import { test, describe, expect } from 'vitest'

const pickRandom = source => source[Math.round(Math.random() * source.length)]

function* generateArray(fn = x => x, size = 10) {
  let i = -1
  while (++i < size) {
    yield fn(i)
  }
};

const timer = {
  startTime: 0,
  now() {
    return (typeof window === 'undefined' ? Date : performance).now()
  },
  reset() {
    this.timer = 0;
  },
  start() {
    this.startTime = this.now();
  },
  end() {
    console.log(`추정 시간: ${this.now() - this.startTime}`);
    this.startTime = 0;
  },
};

const testWithTimer = (description, tester) => {
  test(description, () => {
    timer.start()
    tester()
    timer.end()
  })
}

const 이름_목록 = [
  'Zachary',
  'Zayden',
  'Zane',
  'Zion',
  'Yadiel',
  'Yousef',
  'Xavier',
  'Xander',
  'Xayden',
  'William',
  'Wyatt',
  'Wesley',
  'Walter',
  'Wade',
  'Warren',
  'Winston',
  'Willie',
  'Will',
  'Woodrow',
  'VVincent',
  'Valentino',
  'Victor',
  'Vincenzo',
  'Van',
  'Vivaan',
  'Vihaan',
  'Vance',
  'Ucal',
  'Ulan',
  'Uluka',
  'Uner',
  'Uriah',
  'Thomas',
  'Tyler',
  'Theodore',
  'Tony',
  'Travis',
  'Troy',
  'Timothy',
  'Titan',
  'Toby',
  'Tanner',
  'Samuel',
  'Steven',
  'Sebastian',
  'Santiago',
  'Simon',
  'Sean',
  'Stephen',
  'Scott',
  'Ryan',
  'Randolph',
  'Robert',
  'Roman',
  'River',
  'Raymond',
  'Richard',
  'Rowan',
  'Russell',
  'Ryder',
  'Quincy',
  'Quade',
  'Parker',
  'Patrick',
  'Paul',
  'Peter',
  'Prince',
  'Phillip',
  'Pablo',
  'Pedro',
  'Oliver',
  'Owen',
  'Oscar',
  'Orlando',
  'Odin',
  'Oakley',
  'Ozzy',
  'Ollie',
  'Noah',
  'Nicholas',
  'Nolan',
  'Nikolai',
  'Nathan',
  'Nelson',
  'Matthew',
  'Maddox',
  'Max',
  'Michael',
  'Mason',
  'Marcus',
  'Miles',
  'Mark',
  'Mario',
  'Mandy',
  'Liam',
  'Logan',
  'Lucas',
  'Luke',
  'Lincoln',
  'Leo',
  'Luis',
  'Leonardo',
  'Luciano',
  'Lucian',
  'Kevin',
  'Kai',
  'Kale',
  'Kade',
  'Kaiden',
  'Knox',
  'Ken',
  'Kendrick',
  'Jayden',
  'James',
  'Jacob',
  'Julian',
  'Jackson',
  'Jeffery',
  'Jarry',
  'Jeremy',
  'Jayce',
  'Jonathan',
  'Justin',
  'Joel',
  'Ian',
  'Ivan',
  'Ismael',
  'Israel',
  'Isaac',
  'Iker',
  'Henry',
  'Hunter',
  'Hayden',
  'Hendrix',
  'Harry',
  'Hugo',
  'Harrison',
  'Harvey',
  'Hudson',
  'Gabriel',
  'Gael',
  'Gunner',
  'Garrett',
  'Gregory',
  'Griffin',
  'Grady',
  'George',
  'Francisco',
  'Felix',
  'Fernando',
  'Fabian',
  'Finn',
  'Frankie',
  'Fredrick',
  'Fabbro',
  'Floyd',
  'Ethan',
  'Eli',
  'Evan',
  'Eric',
  'Emmett',
  'Elliott',
  'Everett',
  'Enzo',
  'Danial',
  'Dylan',
  'Damian',
  'Declan',
  'Derek',
  'Dante',
  'Dominick',
  'Dilan',
  'Drew',
  'Chistopher',
  'Connor',
  'Charles',
  'Caleb',
  'Cooper',
  'Colin',
  'Corbin',
  'Covy',
  'Chico',
  'Benjamin',
  'Brandon',
  'Bentley',
  'Blake',
  'Brody',
  'Bennett',
  'Bradley',
  'Brooks',
  'Bruno',
  'Aiden',
  'Andew',
  'Adrian',
  'Asher',
  'Austin',
  'Ayaan',
  'Aaron',
  'Alex',
  'Andres',
  'Antonio',
  'Archer',
];
const 도시_목록 = [
  'Afghanistan',
  'Algeria',
  'Angola',
  'Argentina',
  'Austria',
  'Australia',
  'Bangladesh',
  'Belarus',
  'Belgium',
  'Bolivia',
  'Bosnia',
  'Brazil',
  'Britain',
  'Bulgaria',
  'Cambodia',
  'Cameroon',
  'Canada',
  'Central',
  'Chad',
  'China',
  'Colombia',
  'Costa',
  'Croatia',
  'the',
  'Democratic',
  'Denmark',
  'Ecuador',
  'Egypt',
  'El',
  'England',
  'Estonia',
  'Ethiopia',
  'Finland',
  'France',
  'Germany',
  'Ghana',
  'Greece',
  'Guatemala',
  'Holland',
  'Honduras',
  'Hungary',
  'Iceland',
  'India',
  'Indonesia',
  'Iran',
  'Iraq',
  'Ireland',
  'Israel',
  'Italy',
  'Ivory',
  'Jamaica',
  'Japan',
  'Jordan',
  'Kazakhstan',
  'Kenya',
  'Laos',
  'Latvia',
  'Libya',
  'Lithuania',
  'Madagascar',
  'Malaysia',
  'Mali',
  'Mauritania',
  'Mexico',
  'Morocco',
  'Namibia',
  'New',
  'Nicaragua',
  'Niger',
  'Nigeria',
  'Norway',
  'Oman',
  'Pakistan',
  'Panama',
  'Paraguay',
  'Peru',
  'The',
  'Poland',
  'Portugal',
  'Republic',
  'Romania',
  'Russia',
  'Saudi',
  'Scotland',
  'Senegal',
  'Serbia',
  'Singapore',
  'Slovakia',
  'Somalia',
  'South',
  'Spain',
  'Sudan',
  'Sweden',
  'Switzerland',
  'Syria',
  'Thailand',
  'Tunisia',
  'Turkey',
  'Turkmenistan',
  'Ukraine',
  'The',
  'The',
  'Uruguay',
  'Vietnam',
  'Wales',
  'Zambia',
  'Zimbabwe',
];
const 나이_목록 = Array.from({ length: 100 }, (_,i) => i+1)

const 엄청_큰_배열_크기 = 5000000;

describe('데이터 테스트', () => {
  testWithTimer('for of version', () => {
    const 무작위_데이터_리스트 = [...generateArray(() => ({
      name: pickRandom(이름_목록),
      age: pickRandom(나이_목록),
      city: pickRandom(도시_목록)
    }), 엄청_큰_배열_크기)]
    expect(무작위_데이터_리스트.length).toEqual(엄청_큰_배열_크기)
  })
})
